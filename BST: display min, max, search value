/* file: bst_min_max_search.c */
#include <stdio.h>
#include <stdlib.h>

typedef struct Node {
    int data;
    struct Node *left, *right;
} Node;

Node* newNode(int x){ Node *n = malloc(sizeof(Node)); n->data=x; n->left=n->right=NULL; return n; }
Node* insert(Node* root, int x){
    if(!root) return newNode(x);
    if(x < root->data) root->left = insert(root->left, x);
    else if(x > root->data) root->right = insert(root->right, x);
    return root;
}
int search(Node* root, int x){
    if(!root) return 0;
    if(root->data==x) return 1;
    if(x < root->data) return search(root->left, x);
    return search(root->right, x);
}
int findMin(Node* r){ while(r->left) r=r->left; return r->data; }
int findMax(Node* r){ while(r->right) r=r->right; return r->data; }

int main(){
    Node *root=NULL;
    int n,x;
    printf("Nodes count: "); if(scanf("%d",&n)!=1) return 0;
    printf("Enter values: ");
    for(int i=0;i<n;i++){ scanf("%d",&x); root = insert(root,x); }
    printf("Min = %d\n", findMin(root));
    printf("Max = %d\n", findMax(root));
    printf("Search value: "); scanf("%d",&x);
    printf(search(root,x) ? "Found\n" : "Not found\n");
    return 0;
}
